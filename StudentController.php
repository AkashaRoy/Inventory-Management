<?phpinclude_once "StudentModel.php";//include_once "ScheduleModel.php";//include_once "CompanyModel.php";class StudentController{  function checkStudentData()  {    $arg=func_get_args();	if(isset($arg[0])&&!empty($arg[0])&&isset($arg[1])&&!empty($arg[1])&&isset($arg[2])&&!empty($arg[2])&&isset($arg[3])&&!empty($arg[3])&&	   isset($arg[4])&&!empty($arg[4])&&isset($arg[5])&&!empty($arg[5])&&isset($arg[8])&&!empty($arg[8])&&isset($arg[9])&&!empty($arg[9])&&	   isset($arg[10])&&!empty($arg[10])&&isset($arg[11])&&!empty($arg[11])&&isset($arg[12])&&!empty($arg[12])&&isset($arg[13])&&!empty($arg[13])	   &&$arg[11]!="---SELECT---"&&$arg[0]!="Enter Student Name"&&$arg[2]!="Enter Name of Father"&&$arg[12]!="Enter Occupation of Father"&&	   $arg[1]!="Click Here To Choose Date"&&$arg[3]!="Click Here To Choose Date"&&$arg[13]!="---SELECT---"	   &&$arg[5]!=""&&$arg[8]!=""&&$arg[9]!=""&&$arg[10]!="")	   {	  $date1=$arg[1];      $date2=$arg[3];	  $date3=date("y-m-d");      $secTotalDate1=strtotime($date1);       $secTotalDate2=strtotime($date2); 	  $secTotalDate3=strtotime($date3);      //echo "$date1"."</br>"."$date2"."</br>";   if (($secTotalDate1 > $secTotalDate3)||($secTotalDate1 > $secTotalDate2))      {        return 4;//error      }else	{	   if(isset($arg[6])&&!empty($arg[6])&&isset($arg[7])&&!empty($arg[7]))	   $add=$arg[5]." ".$arg[6]." ".$arg[7]." ".$arg[8]." ".$arg[9]." ".$arg[10];	   else if(isset($arg[6])&&!empty($arg[6]))	    $add=$arg[5]." ".$arg[6]." ".$arg[8]." ".$arg[9]." ".$arg[10];	   else if(isset($arg[7])&&!empty($arg[7]))	    $add=$arg[5]." ".$arg[7]." ".$arg[8]." ".$arg[9]." ".$arg[10];	   else	    $add=$arg[5]." ".$arg[8]." ".$arg[9]." ".$arg[10];	   	   $obj=new StudentModel();	   $var=$obj->saveStudentData($arg[0],$arg[1],$arg[2],$arg[3],$arg[4],$add,$arg[11],$arg[12],$arg[13]);	   	   if($var==8)	   {	     //$msg="Successful";	   	return 8;	   }	   else if($var)	   return $var;	   else	   {	     return 2; //Database Connection Problem       } 	}	}	else	{	  return 3; //none of the fields can be empty	}  }  function editSelectedStudent($id)  {    $obj=new StudentModel();    return $obj->fetchSelectedStudent($id);	  }    function verifyStudentData()  {    $arg=func_get_args();	if( (isset($arg[0]) && !empty($arg[0]))&&(isset($arg[2]) && !empty($arg[2]))&&(isset($arg[3]) && !empty($arg[3]))&&	 (isset($arg[4]) && !empty($arg[4])) && (isset($arg[5]) && !empty($arg[5])) && (isset($arg[6]) && !empty($arg[6])) && (isset($arg[7]) && !empty($arg[7])) &&	 (isset($arg[8]) && !empty($arg[8])) && (isset($arg[9]) && !empty($arg[9])) && (isset($arg[10])&&!empty($arg[10]) ))	{	    /*if((isset($arg[1])&& !empty($arg[1]))||(isset($arg[2])&& !empty($arg[2])))		{	      if((isset($arg[1]) && !empty($arg[1])))		  {		     $obj=new ScheduleModel();			 $var=$obj->verifyScheduleId($arg[1]);		     if($var)		     {		       $msg="Invalid Schedule ID";			   $arg[13]=$msg;			   return $arg;		     }		  }		  if((isset($arg[2]) && !empty($arg[2])))		  {		     $obj=new CompanyModel();			 $var=$obj->verifyCompanyId($arg[2]);		     if($var)		     {		       $msg="Invalid Company ID";			   $arg[13]=$msg;			   return $arg;		     }		  }		}*/	  $date1=$arg[3];      $date2=$arg[6];      $secTotalDate1=strtotime($date1);       $secTotalDate2=strtotime($date2);       //echo "$date1"."</br>"."$date2"."</br>";      if ($secTotalDate1 > $secTotalDate2)      {	    $msg="Invalid date of admission";	    $arg[11]=$msg;        return $arg; //error      }      else       {	      $ob=new StudentModel();				  $var=$ob->editStudentData($arg[0],$arg[1],$arg[2],$arg[3],$arg[4],$arg[5],$arg[6],$arg[7],$arg[8],$arg[9],$arg[10]);		  if($var)		    $msg="Upgrade Successful";		  else		  {		    $msg="Database connection problem";		    $arg[11]=$msg;		    return $arg;		  }	}	}	else	{	  $msg="None of the fields can be empty";	  $arg[11]=$msg;      return $arg;	}  }    //FOR DISPLAYING DETAILS OF STUDENT  function checkStudentId($id)  {    if(isset($id)&&!empty($id))	{      $obj=new StudentModel();	  $var=$obj->checkEnteredId($id);		  if($var)      {	    $arr[0]=$var[0];	    $arr[1]=$var[4];	    return $arr;	  }	  else	  {	    return 0;	  }	}	else	{	  return 2;	} }  function fetchStudentInfo($id)  {    $ob=new StudentModel();	$id=$_SESSION["id"];    $arr=$ob->fetchSelectedStudent($id);	return $arr;  }  function fetchStudentScheduleCompanyId($id)  {    $ob=new StudentModel();    $arr=$ob->fetchSelectedStudent($id);	return $arr;  }    function validateScheduleId()  {         $arg=func_get_args();		 if($arg[1]!="---SELECT---")		 {		    $ob=new StudentModel();		    $res=$ob->updateScheduleId($arg[0],$arg[1]);		    if($res)		    {		      return 1;		    }		    else		    {		      return 2;		    }		 }		 else		 { 		     $msg="Please select a Schedule ID first";		     $arg[2]=$msg;		     return $arg;		 }   }   function validateCompanyId()  {         $arg=func_get_args();		 if($arg[1]!="---SELECT---"&&$arg[2]!="---SELECT---")         {             $ob=new StudentModel();		     $res=$ob->updateCompanyId($arg[0],$arg[1],$arg[2],$arg[3]);		     if($res)		     {		         return 1;		     }		     else		     {		         return 2;		     }          }          else          { 		     $msg="None of the fields can be left empty";		     $arg[3]=$msg;		     return $arg;          }   } }?>